"use strict";angular.module("filereader",[]).factory("FileReader",["$q","$window",function(r,e){var n=function(r,e,n){return function(){n.$apply(function(){e.resolve(r.result)})}},t=function(r,e,n){return function(){n.$apply(function(){e.reject(r.result)})}},o=function(r,e){return function(r){e.$broadcast("fileProgress",{total:r.total,loaded:r.loaded})}},a=function(r,a){var u=new e.FileReader;return u.onload=n(u,r,a),u.onerror=t(u,r,a),u.onprogress=o(u,a),u},u=function(e,n){var t=r.defer(),o=a(t,n);return o.readAsDataURL(e),t.promise},i=function(e,n,t){var o=r.defer(),u=a(o,t);return u.readAsText(e,n),o.promise};return{readAsDataURL:u,readAsText:i}}]);